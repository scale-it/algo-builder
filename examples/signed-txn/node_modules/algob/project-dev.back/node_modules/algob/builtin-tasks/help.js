"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const help_printer_1 = require("../internal/cli/help-printer");
const constants_1 = require("../internal/constants");
const config_env_1 = require("../internal/core/config/config-env");
const builder_params_1 = require("../internal/core/params/builder-params");
const package_info_1 = require("../internal/util/package-info");
const task_names_1 = require("./task-names");
function default_1() {
    config_env_1.task(task_names_1.TASK_HELP, "Prints this message")
        .addOptionalPositionalParam("task", "An optional task to print more info about")
        .setAction(help);
}
exports.default = default_1;
async function help({ task: taskName }, env) {
    const packageJson = await package_info_1.getPackageJson();
    const helpPrinter = new help_printer_1.HelpPrinter(constants_1.ALGOB_NAME, packageJson.version, builder_params_1.ALGOB_PARAM_DEFINITIONS, env.tasks);
    if (taskName !== undefined) {
        helpPrinter.printTaskHelp(taskName);
        return;
    }
    helpPrinter.printGlobalHelp();
}
//# sourceMappingURL=help.js.map