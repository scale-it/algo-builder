#pragma version 6 

txn ApplicationID
bz on_creation


txna ApplicationArgs 0 
byte "buff_with_group"
==
bnz buff_with_group

txna ApplicationArgs 0 
byte "buff_with_inner"
== 
bnz buff_with_inner


buff_with_group:
global OpcodeBudget
itob
log
int 1
return 

buff_with_inner:
// call to dummy app
itxn_begin
int appl
itxn_field TypeEnum
txna ApplicationArgs 1
btoi
txnas Applications
itxn_field ApplicationID
int 0
itxn_field Fee
itxn_submit
global OpcodeBudget 
itob
log 
int 1
return

on_creation:
int 1 
return